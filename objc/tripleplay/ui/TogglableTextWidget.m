//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: tripleplay/ui/TogglableTextWidget.java
//
//  Created by Thomas on 7/1/13.
//

#import "ClickableTextWidget.h"
#import "Connection.h"
#import "Element.h"
#import "Pointer.h"
#import "SignalView.h"
#import "Value.h"
#import "java/lang/Boolean.h"

@implementation TripleplayUiTogglableTextWidget

- (ReactValue *)selected_ {
  return selected__;
}
- (void)setSelected_:(ReactValue *)selected_ {
  JreOperatorRetainedAssign(&selected__, self, selected_);
}
@synthesize selected_ = selected__;
@synthesize _anchorState = _anchorState_;

- (ReactValue *)selected {
  return selected__;
}

- (id)init {
  if ((self = [super init])) {
    JreOperatorRetainedAssign(&selected__, self, ((ReactValue *) [ReactValue createWithId:[JavaLangBoolean valueOfWithBOOL:NO]]));
    (void) [((ReactValue *) NIL_CHK(selected__)) connectWithReactValueView_Listener:[[[TripleplayUiTogglableTextWidget_$1 alloc] initWithTripleplayUiTogglableTextWidget:self] autorelease]];
  }
  return self;
}

- (void)onPressWithPlaynCorePointer_Event:(id<PlaynCorePointer_Event>)event {
  _anchorState_ = [self isSelected];
  (void) [((ReactValue *) NIL_CHK(selected__)) updateWithId:[JavaLangBoolean valueOfWithBOOL:!_anchorState_]];
}

- (void)onHoverWithPlaynCorePointer_Event:(id<PlaynCorePointer_Event>)event
                                 withBOOL:(BOOL)inBounds {
  (void) [((ReactValue *) NIL_CHK(selected__)) updateWithId:[JavaLangBoolean valueOfWithBOOL:inBounds ? !_anchorState_ : _anchorState_]];
}

- (void)onReleaseWithPlaynCorePointer_Event:(id<PlaynCorePointer_Event>)event {
  if (_anchorState_ != [self isSelected]) {
    [self onClickWithPlaynCorePointer_Event:event];
  }
}

- (void)onCancelWithPlaynCorePointer_Event:(id<PlaynCorePointer_Event>)event {
  (void) [((ReactValue *) NIL_CHK(selected__)) updateWithId:[JavaLangBoolean valueOfWithBOOL:_anchorState_]];
}

- (id<ReactSignalView>)clicked {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (void)dealloc {
  JreOperatorRetainedAssign(&selected__, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TripleplayUiTogglableTextWidget *typedCopy = (TripleplayUiTogglableTextWidget *) copy;
  typedCopy.selected_ = selected__;
  typedCopy._anchorState = _anchorState_;
}

@end
@implementation TripleplayUiTogglableTextWidget_$1

- (TripleplayUiTogglableTextWidget *)this$0 {
  return this$0_;
}
- (void)setThis$0:(TripleplayUiTogglableTextWidget *)this$0 {
  JreOperatorRetainedAssign(&this$0_, self, this$0);
}
@synthesize this$0 = this$0_;

- (void)onEmitWithId:(JavaLangBoolean *)selected {
  if ([((JavaLangBoolean *) NIL_CHK(selected)) booleanValue] != [this$0_ isSelected]) {
    [this$0_ setWithTripleplayUiElement_FlagEnum:[TripleplayUiElement_FlagEnum SELECTED] withBOOL:[((JavaLangBoolean *) NIL_CHK(selected)) booleanValue]];
    [this$0_ invalidate];
  }
}

- (id)initWithTripleplayUiTogglableTextWidget:(TripleplayUiTogglableTextWidget *)outer$ {
  if ((self = [super init])) {
    JreOperatorRetainedAssign(&this$0_, self, outer$);
  }
  return self;
}

- (void)dealloc {
  JreOperatorRetainedAssign(&this$0_, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  TripleplayUiTogglableTextWidget_$1 *typedCopy = (TripleplayUiTogglableTextWidget_$1 *) copy;
  typedCopy.this$0 = this$0_;
}

@end
