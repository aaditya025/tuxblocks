//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: react/MappedSignal.java
//
//  Created by Thomas on 7/1/13.
//

#import "react/Connection.h"
#import "react/Reactor.h"

@implementation ReactMappedSignal

- (id<ReactConnection>)_conn {
  return _conn_;
}
- (void)set_conn:(id<ReactConnection>)_conn {
  JreOperatorRetainedAssign(&_conn_, self, _conn);
}
@synthesize _conn = _conn_;

- (id<ReactConnection>)connect {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (void)connectionAdded {
  [super connectionAdded];
  if (_conn_ == nil) JreOperatorRetainedAssign(&_conn_, self, [self connect]);
}

- (void)connectionRemoved {
  [super connectionRemoved];
  if (![self hasConnections] && _conn_ != nil) {
    [((id<ReactConnection>) NIL_CHK(_conn_)) disconnect];
    JreOperatorRetainedAssign(&_conn_, self, nil);
  }
}

- (id)init {
  return [super init];
}

- (void)dealloc {
  JreOperatorRetainedAssign(&_conn_, self, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  ReactMappedSignal *typedCopy = (ReactMappedSignal *) copy;
  typedCopy._conn = _conn_;
}

@end
